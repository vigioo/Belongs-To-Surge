[General]
# Delayed test
ipv6 = true
ipv6-vif = auto
internet-test-url = http://www.aliyun.com
proxy-test-url = http://dash.cloudflare.com
test-timeout = 3

# DNS
hijack-dns = *:53
read-etc-hosts = true
dns-server = 119.29.29.29, 180.184.1.1, 223.5.5.5, system

# WifiAccess
allow-wifi-access = false
allow-hotspot-access = true
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153

# Http Api
http-api = nana@0.0.0.0:2500
http-api-tls = false
http-api-web-dashboard = true

# Others
loglevel = notify
all-hybird = true
exclude-simple-hostnames = true
show-error-page-for-reject = true
udp-priority = true
udp-policy-not-supported-behaviour = REJECT
tun-excluded-routes = 239.255.255.250/32

[Proxy]
Direct = direct
Block = reject

[Proxy Group]
ğ–¯ğ—‹ğ—ˆğ—‘ğ—’ = select, policy-path=è®¢é˜…é“¾æ¥, url=http://cp.cloudflare.com/generate_204, interval=600, tolerance=50, hidden=0, update-interval=43200, no-alert=0, include-all-proxies=0
ğ– ğ—‰ğ—‰ğ—…ğ–¾ = select, Direct, ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, "United States", interval=200, tolerance=50, no-alert=1, hidden=0, include-all-proxies=0
ğ–¯ğ–ºğ—’ğ—‰ğ–ºğ—… = select, Direct, ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, "United States", interval=600, tolerance=50, no-alert=1, hidden=0, include-all-proxies=0
ğ–³ğ–¾ğ—…ğ–¾ğ—€ğ—‹ğ–ºğ—† = select, ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, "Hong Kong", Singapore, "United States", interval=600, tolerance=50, no-alert=1, hidden=0, include-all-proxies=0
ğ–®ğ—‰ğ–¾ğ—‡ğ– ğ–¨ = select, ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, "Hong Kong", Singapore, Japan, "United States", Taiwan, interval=600, tolerance=50, no-alert=1, hidden=0, include-all-proxies=0
ğ–¨ğ—‡ğ—Œğ—ğ–ºğ—€ğ—‹ğ–ºğ—† = select, Direct, ğŸ‘ğŸ‘, ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, "Hong Kong", Taiwan, interval=600, tolerance=50, no-alert=1, hidden=0, include-all-proxies=0
ğ–®ğ—ğ—ğ–¾ğ—‹ = select, Direct, no-alert=0, hidden=0, include-all-proxies=0, update-interval=0, include-other-group=ğ–¯ğ—‹ğ—ˆğ—‘ğ—’
ğŸ‘ğŸ‘ = select, Direct, ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0
Hong Kong = select, policy-regex-filter=(?i)(é¦™æ¸¯|Hong|HK), no-alert=0, hidden=1, include-all-proxies=0, include-other-group=ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/Hong_Kong.png
Singapore = select, policy-regex-filter=(?i)(æ–°åŠ å¡|Singapore|SG), no-alert=0, hidden=1, include-all-proxies=0, include-other-group=ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/Singapore.png
Taiwan = select, policy-regex-filter=(?i)(å°æ¹¾|Tai|TW), no-alert=0, hidden=1, include-all-proxies=0, include-other-group=ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/Taiwan.png
Japan = select, policy-regex-filter=(?i)(æ—¥æœ¬|Japan|JP), no-alert=0, hidden=1, include-all-proxies=0, include-other-group=ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/Japan.png
United States = select, policy-regex-filter=(?i)(ç¾å›½|States|US), no-alert=0, hidden=1, include-all-proxies=0, include-other-group=ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/United_States.png
European Union = select, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=ğ–¯ğ—‹ğ—ˆğ—‘ğ—’, policy-regex-filter=(?i)(Austria|Belgium|Bulgaria|Croatia|Cyprus|Czech|Denmark|Estonia|Finland|France|Germany|Greece|Hungary|Ireland|Italy|Latvia|Lithuania|Luxembourg|Malta|Netherlands|Poland|Portugal|Romania|Slovakia|Slovenia|Spain|Sweden|å¥¥åœ°åˆ©|æ¯”åˆ©æ—¶|ä¿åŠ åˆ©äºš|å…‹ç½—åœ°äºš|å¡æµ¦è·¯æ–¯|æ·å…‹|ä¸¹éº¦|çˆ±æ²™å°¼äºš|èŠ¬å…°|æ³•å›½|å¾·å›½|å¸Œè…Š|åŒˆç‰™åˆ©|çˆ±å°”å…°|æ„å¤§åˆ©|æ‹‰è„±ç»´äºš|ç«‹é™¶å®›|å¢æ£®å ¡|é©¬è€³ä»–|è·å…°|æ³¢å…°|è‘¡è„ç‰™|ç½—é©¬å°¼äºš|æ–¯æ´›ä¼å…‹|æ–¯æ´›æ–‡å°¼äºš|è¥¿ç­ç‰™|ç‘å…¸), icon-url=https://raw.githubusercontent.com/Jasonaax/Surge/main/Icon/Policy-Filter/European_Union.png

[Rule]
# > Reject
# UDP/Advertising
AND,((PROTOCOL,UDP), (DEST-PORT,443)),REJECT-NO-DROP
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Advertising.list,REJECT,extended-matching
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Tracking.list,REJECT,extended-matching

# Anti-ip-attribution
# RULE-SET,https://raw.githubusercontent.com/lwd-temp/anti-ip-attribution/main/generated/surge.list,DIRECT // Anti IP

# > Social
# AI/Github/Instagram/PayPal/Telegram/X
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/refs/heads/master/Surge/Ruleset/Extra/Apple/Intelligence.list,ğ–®ğ—‰ğ–¾ğ—‡ğ– ğ–¨ // Apple Intelligence
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/refs/heads/master/Surge/Ruleset/Extra/AI.list,ğ–®ğ—‰ğ–¾ğ—‡ğ– ğ–¨ // AI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,ğ–¯ğ—‹ğ—ˆğ—‘ğ—’,extended-matching // Github
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Instagram/Instagram.list,ğ–¨ğ—‡ğ—Œğ—ğ–ºğ—€ğ—‹ğ–ºğ—†,extended-matching // Instagram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list,ğ–¯ğ–ºğ—’ğ—‰ğ–ºğ—… // Paypal
RULE-SET,https://raw.githubusercontent.com/LucaLin233/Luca_Conf/main/Surge/Rule/Telegram.list,ğ–³ğ–¾ğ—…ğ–¾ğ—€ğ—‹ğ–ºğ—†,extended-matching // Telegram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,ğ–¨ğ—‡ğ—Œğ—ğ–ºğ—€ğ—‹ğ–ºğ—† // X

# > Proxy+
# Global/IP/Streaming
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream.conf,Singapore,extended-matching // Streaming
RULE-SET,https://ruleset.skk.moe/List/ip/stream.conf,Singapore // Streaming (IP)
RULE-SET,https://ruleset.skk.moe/List/non_ip/global.conf,ğ–¯ğ—‹ğ—ˆğ—‘ğ—’,extended-matching // Proxy1
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/refs/heads/master/Surge/Ruleset/Proxy.list,ğ–¯ğ—‹ğ—ˆğ—‘ğ—’,extended-matching // Proxy2

# > Apple
# AppStore/Mail/Update
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/refs/heads/master/Surge/Ruleset/Extra/Apple/AppStoreConnect.list,ğ– ğ—‰ğ—‰ğ—…ğ–¾ // AppStoreConnect
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/refs/heads/master/Surge/Ruleset/Extra/Apple/AppStore.list,ğ– ğ—‰ğ—‰ğ—…ğ–¾ // AppStore
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/refs/heads/master/Surge/Ruleset/Extra/Apple/Mail.list,ğ– ğ—‰ğ—‰ğ—…ğ–¾ // Mail
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/refs/heads/master/Surge/Ruleset/Extra/Apple/SoftwareUpdate.list,ğ– ğ—‰ğ—‰ğ—…ğ–¾ // SoftwareUpdate
# RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/refs/heads/master/Surge/Ruleset/Extra/Apple/Apple.list,ğ– ğ—‰ğ—‰ğ—…ğ–¾ // Apple

# > Direct
# China/IP/Streaming
RULE-SET,https://ruleset.skk.moe/List/non_ip/domestic.conf,DIRECT,extended-matching // Domestic
RULE-SET,https://ruleset.skk.moe/List/non_ip/direct.conf,DIRECT,extended-matching // Direct
RULE-SET,https://ruleset.skk.moe/List/ip/domestic.conf,DIRECT // Domestic (IP)
RULE-SET,https://ruleset.skk.moe/List/ip/china_ip.conf,DIRECT,no-resolve // Direct (IP)
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMedia/ChinaMedia.list,DIRECT,extended-matching // ChinaMedia

# DEST-PORT ç«¯å£è§„åˆ™
OR,((DEST-PORT,25), (DEST-PORT,110), (DEST-PORT,143), (DEST-PORT,465), (DEST-PORT,587)),DIRECT // é‚®ä»¶æœåŠ¡é»˜è®¤ç«¯å£
AND,((OR,((DOMAIN,time-ios.apple.com), (DOMAIN,time.apple.com), (DOMAIN-SUFFIX,pool.ntp.org))), (DEST-PORT,123)),DIRECT // NTPæœåŠ¡é»˜è®¤ç«¯å£

# Local Area Network
RULE-SET,LAN,DIRECT // Local Area Network æœ¬åœ°å±€åŸŸç½‘

# ASN China
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list,DIRECT,"update-interval=86400" // ğŸŸ Fries: ğŸŒ ASN China

FINAL,ğ–¯ğ—‹ğ—ˆğ—‘ğ—’,dns-failed

[URL Rewrite]
# Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com header

[MITM]
skip-server-cert-verify = true
tcp-connection = true
h2 = true
hostname = *.google.cn, *.google.com
ca-passphrase =
ca-p12 =
